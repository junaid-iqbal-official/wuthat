<div class="reply-chat d-none">

    <div class="reply reply-hidden">
        <div class="content-aligns">
            <div class="reply-arrow">
                <i data-feather="corner-down-left"></i>
            </div>
            <div class="flex">
                <h5></h5>
                <p></p>
            </div>
            <div class="cancel-reply">
                <i data-feather="x"></i>
            </div>
        </div>
    </div>

    <!-- File Upload Preview Area -->
    <div id="file-preview-area" class="file-preview-area d-none">
        <div class="preview-header">
            <h6>Selected Files</h6>
            <button id="clear-files" class="clear-files-btn">
                <i data-feather="x"></i>
            </button>
        </div>
        <div id="file-preview-list" class="file-preview-list">
            <!-- File previews will be added here -->
        </div>
    </div>

    <!-- Drag & Drop Overlay -->
    <div id="drag-overlay" class="drag-overlay d-none">
        <div class="drag-content">
            <div class="drag-icon">
                <i data-feather="upload-cloud"></i>
            </div>
            <h4>Drop files here to send</h4>
            <p>Images, videos, documents and more</p>
        </div>
    </div>

    <div class="message-input">
        <div class="wrap emojis-main">
            <% if(stickers.length>0){ %>
                <a class="icon-btn btn-outline-primary button-effect toggle-sticker outside" href="javascript:void(0)">
                    <svg id="Layer_1" version="1.1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="2158px" height="2148px"
                        viewbox="0 0 2158 2148" enable-background="new 0 0 2158 2148" xml:space="preserve">
                        <path fill-rule="evenodd" clip-rule="evenodd" fill="none" stroke="#000000" stroke-width="60"
                            stroke-miterlimit="10"
                            d="M699,693c0,175.649,0,351.351,0,527c36.996,0,74.004,0,111,0c18.058,0,40.812-2.485,57,1c11.332,0.333,22.668,0.667,34,1c7.664,2.148,20.769,14.091,25,20c8.857,12.368,6,41.794,6,62c0,49.329,0,98.672,0,148c175.649,0,351.351,0,527,0c0-252.975,0-506.025,0-759C1205.692,693,952.308,693,699,693z">
                        </path>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M886,799c59.172-0.765,93.431,25.289,111,66c6.416,14.867,14.612,39.858,9,63c-2.391,9.857-5.076,20.138-9,29c-15.794,35.671-47.129,53.674-90,63c-20.979,4.563-42.463-4.543-55-10c-42.773-18.617-85.652-77.246-59-141c10.637-25.445,31.024-49,56-60c7.999-2.667,16.001-5.333,24-8C877.255,799.833,882.716,801.036,886,799z">
                        </path>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M1258,799c59.172-0.765,93.431,25.289,111,66c6.416,14.867,14.612,39.858,9,63c-2.391,9.857-5.076,20.138-9,29c-15.794,35.671-47.129,53.674-90,63c-20.979,4.563-42.463-4.543-55-10c-42.773-18.617-85.652-77.246-59-141c10.637-25.445,31.024-49,56-60c7.999-2.667,16.001-5.333,24-8C1249.255,799.833,1254.716,801.036,1258,799z">
                        </path>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M1345,1184c-0.723,18.71-11.658,29.82-20,41c-18.271,24.489-50.129,37.183-83,47c-7.333,1-14.667,2-22,3c-12.013,2.798-33.636,5.15-44,3c-11.332-0.333-22.668-0.667-34-1c-15.332-3-30.668-6-46-9c-44.066-14.426-80.944-31.937-110-61c-22.348-22.353-38.992-45.628-37-90c0.667,0,1.333,0,2,0c9.163,5.585,24.723,3.168,36,6c26.211,6.583,54.736,7.174,82,14c34.068,8.53,71.961,10.531,106,19c9.999,1.333,20.001,2.667,30,4c26.193,6.703,54.673,7.211,82,14C1304.894,1178.445,1325.573,1182.959,1345,1184z">
                        </path>
                        <polygon fill-rule="evenodd" clip-rule="evenodd"
                            points="668.333,1248.667 901.667,1482 941.667,1432 922.498,1237.846 687,1210.667">
                        </polygon>
                    </svg>
                </a>
            <% } %>

            <div class="dot-btn dot-primary">
                <a class="icon-btn btn-outline-primary button-effect toggle-emoji" href="javascript:void(0)">
                    <i data-feather="smile"></i>
                </a>
            </div>

            <div class="contact-poll">
                <a class="icon-btn btn-outline-primary outside" href="javascript:void(0)">
                    <i class="fa fa-plus"></i>
                </a>
                <div class="contact-poll-content">
                    <ul>
                        <li>
                            <label for="file-input" class="file-upload-option">
                                <i data-feather="image"></i>Photos & Videos
                            </label>
                        </li>
                        <li>
                            <label for="document-input" class="file-upload-option">
                                <i data-feather="file-text"></i>Documents
                            </label>
                        </li>
                        <li>
                            <label for="any-file-input" class="file-upload-option">
                                <i data-feather="paperclip"></i>Any File
                            </label>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Hidden File Inputs -->
            <input type="file" id="file-input" class="d-none" multiple accept="image/*,video/*" />
            <input type="file" id="document-input" class="d-none" multiple
                accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv" />
            <input type="file" id="any-file-input" class="d-none" multiple />

            <input id="message-input" type="text" autocomplete="off" placeholder="Write your message..." />

            <!-- Voice Recording UI -->
            <div id="voice-ui" class="voice-ui d-none">
                <div class="voice-bubble">
                    <span id="record-time" class="record-time">0:00</span>
                    <div class="red-dot"></div>
                </div>
                <div class="voice-actions me-2">
                    <button id="cancel-btn" class="icon-btn cancel-btn">
                        <i data-feather="trash"></i>
                    </button>
                </div>
            </div>

            <button class="icon-btn btn-outline-primary button-effect me-2 ms-2 mic-button" id="mic-button"
                href="javascript:void(0)">
                <i data-feather="mic"></i>
            </button>

            <form id="message-form">
                <button class="submit icon-btn btn-primary">
                    <i data-feather="send"></i>
                </button>
            </form>

            <!-- Emoji Container -->
            <div class="emojis-contain">
                <div class="emojis-sub-contain custom-scroll">
                    <ul>
                        <% for (let i=128512; i <=128579; i++) { %>
                            <% if (i !==128575 && i !==128577 && i !==128578) { %>
                                <li>&#<%= i %>;</li>
                            <% } %>
                        <% } %>
                    </ul>
                </div>
            </div>

            <!-- Sticker Container -->
            <div class="sticker-contain">
                <div class="sticker-sub-contain custom-scroll">
                    <ul>
                        <% stickers.forEach((s)=>{ %>
                            <li>
                                <a href="javascript:void(0)">
                                    <img class="img-fluid" src="<%= s.sticker %>" alt="sticker"  data-sticker="<%= s.sticker %>"/>
                                </a>
                            </li>
                        <% }) %>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>